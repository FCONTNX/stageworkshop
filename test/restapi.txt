#######################################################################################################
# EULA acceptance
#######################################################################################################
 curl ${CURL_POST_OPTS} --user ${PRISM_ADMIN}:${PE_PASSWORD} -X POST --data '{
      "username": "SE with $(basename ${0})",
      "companyName": "Nutanix",
      "jobTitle": "SE"
    }' https://localhost:9440/PrismGateway/services/rest/v1/eulas/accept


#######################################################################################################
# Disable Pulse
#######################################################################################################
curl ${CURL_POST_OPTS} --user ${PRISM_ADMIN}:${PE_PASSWORD} -X PUT --data '{
      "defaultNutanixEmail": null,
      "emailContactList": null,
      "enable": false,
      "enableDefaultNutanixEmail": false,
      "isPulsePromptNeeded": false,
      "nosVersion": null,
      "remindLater": null,
      "verbosityType": null
    }' https://localhost:9440/PrismGateway/services/rest/v1/pulse




#######################################################################################################
# Set Dataservices - PE
#######################################################################################################



#######################################################################################################
# Set NTP servers - PE
#######################################################################################################



#######################################################################################################
# Rename the default storage pool to SP01
#######################################################################################################



#######################################################################################################
# Create a Storage Container Images if not exist
#######################################################################################################



#######################################################################################################
# Create two networks (Primary and Secondary)
#######################################################################################################
curl -X POST \
  https://10.42.9.37:9440/api/nutanix/v0.8/networks \
  -H 'Content-Type: application/json' \
  -H 'Postman-Token: 836ee60b-0398-456b-967b-7221c3355545' \
  -H 'cache-control: no-cache' \
  -d '{"name":"VLAN30","vlanId":"30","ipConfig":{"dhcpOptions":{"domainNameServers":"8.8.8.8","domainSearch":"ntx-demo.local","domainName":"ntnx-demo.local"},"networkAddress":"10.10.30.0","prefixLength":"24","defaultGateway":"10.10.30.254","pool":[{"range":"10.10.30.100 10.10.30.200"}]}}
'


#######################################################################################################
# Upload the right AutoDC version
#######################################################################################################



#######################################################################################################
# Install, Configure and start the AutoDC
#######################################################################################################



#######################################################################################################
# Configure the AutoDC's DNS server
#######################################################################################################



#######################################################################################################
# Authentication PE to the installed DC
#######################################################################################################



#######################################################################################################
# Create role mapping
#######################################################################################################



#######################################################################################################
# Upload PC files to be used - PE
#######################################################################################################



#######################################################################################################
# Deploy PC
#######################################################################################################



#######################################################################################################
# Register PE to PC
#######################################################################################################



#######################################################################################################
# Upload Nutanix Files files
#######################################################################################################
